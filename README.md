
# SftpServer (SSHServer)

Sftp Server implementation based on SSHServer library based heavily on [FxSsh](https://github.com/Aimeast/FxSsh). This fork (based on https://github.com/0xFireball/SSHServer) implements the sftp subsystem and a Graphical user interface for administration of users and server settings.

## FxSsh

FxSsh is a lightweight [SSH](http://en.wikipedia.org/wiki/Secure_Shell) server side application as SSH reinforcement of [GitCandy](https://github.com/Aimeast/GitCandy). 

### Features in this fork

- Password Authentication is implemented and enabled by default
- Server keys are autogenerated first startup time
- Logging based on Serilog.
- Sftp subsystem added. 
- Running commands remotely is disabled (commented)
- Server is started using IHostedService interface (useful for standalone service or hosted inside Asp.Net Core)
- Server settings are saved in a LiteDb-database.


## Sample

### Server (Powered by this library)

```csharp
using FxSsh;
using FxSsh.Services;
using System;
using System.Text;
using System.Threading.Tasks;

namespace SshServerLoader
{
    class Program
    {
         static async Task Main(string[] args)
        {
             await new HostBuilder()
            .ConfigureServices((hostContext, services) =>
            {
                services.AddLogging();
                Log.Information("Starting host service");
                services.AddHostedService<HostedSftpServer>();
            })
            .RunConsoleAsync();
        }
    }
}
```

### Client (powered by SSH.NET client)

```csharp
using Renci.SshNet;
using System;
using System.Net;

namespace TestClient
{
    internal class Program
    {
        private static void Main(string[] args)
        {
            var testUsername = "test_person";
            var testPassword = "1234";


            var connInfo = new ConnectionInfo(IPAddress.Loopback.ToString(), 22, testUsername,
                new AuthenticationMethod[]
                {
                    // Password auth
                    new PasswordAuthenticationMethod(testUsername, testPassword)
                }
            );

            using var sftpclient = new SftpClient(connInfo);
            sftpclient.Connect();
            sftpclient.ListDirectory("/");
            sftpclient.Disconnect();
            
            Console.ReadLine();
        }
    }
}
```

### License

The MIT license
